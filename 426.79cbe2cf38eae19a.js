"use strict";(self.webpackChunkmy_weather_app=self.webpackChunkmy_weather_app||[]).push([[426],{5426:(b,h,n)=>{n.r(h),n.d(h,{CurrentWeatherModule:()=>L});var a=n(6814),u=n(1243),t=n(4946),s=n(5619),d=n(4716),f=n(4664),p=n(6076),g=n(1809);let v=(()=>{class e{get currentWeather$(){return this.currentWeatherSubject.asObservable()}get isLoading$(){return this.isLoadingSubject.asObservable()}get isError$(){return this.isErrorSubject.asObservable()}constructor(r,i){this.weatherService=r,this.positionService=i,this.currentWeatherSubject=new s.X(void 0),this.isLoadingSubject=new s.X(!1),this.isErrorSubject=new s.X(!1)}getCurrentWeather(){this.isLoadingSubject.next(!0),this.isErrorSubject.next(!1),this.positionService.getPosition().pipe((0,d.x)(()=>this.isLoadingSubject.next(!1)),(0,f.w)(r=>this.weatherService.getCurrentWeather(r.latitude,r.longitude))).subscribe(r=>{this.currentWeatherSubject.next(r)},()=>{this.isErrorSubject.next(!0)})}static#t=this.\u0275fac=function(i){return new(i||e)(t.LFG(p.u),t.LFG(g.e))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var m=n(8338);function W(e,c){1&e&&t._UZ(0,"app-weather-card",4),2&e&&t.Q6J("weather",c.ngIf)}function S(e,c){1&e&&(t.TgZ(0,"div",5)(1,"div",6)(2,"span",7),t._uU(3,"Loading..."),t.qZA()()())}function C(e,c){1&e&&(t.TgZ(0,"div",8),t._uU(1," There is an error\n"),t.qZA())}let y=(()=>{class e{constructor(r){this.currentWeatherService=r}get isLoading$(){return this.currentWeatherService.isLoading$}get isError$(){return this.currentWeatherService.isError$}get currentWeather$(){return this.currentWeatherService.currentWeather$}ngOnInit(){this.getCurrentWeather()}getCurrentWeather(){this.currentWeatherService.getCurrentWeather()}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(v))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-current-weather"]],decls:7,vars:9,consts:[[1,"d-flex","justify-content-center"],["class","my-5",3,"weather",4,"ngIf"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"my-5",3,"weather"],[1,"d-flex","justify-content-center","mt-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,W,1,1,"app-weather-card",1),t.ALo(2,"async"),t.qZA(),t.YNc(3,S,4,0,"div",2),t.ALo(4,"async"),t.YNc(5,C,2,0,"div",3),t.ALo(6,"async")),2&i&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,o.currentWeather$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,o.isLoading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,7,o.isError$)))},dependencies:[a.O5,m.X,a.Ov],styles:[".current-weather[_ngcontent-%COMP%]{display:inline}"]})}return e})();var l=n(6208);const j=[{path:"",component:y}];let w=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.oAB({type:e});static#r=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(j),l.m,u.Bz]})}return e})(),L=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.oAB({type:e});static#r=this.\u0275inj=t.cJS({imports:[a.ez,w,l.m]})}return e})()}}]);